#!/bin/bash
# Claude wrapper for Unraid (Claude Code) - FIXED

DEV_CONTAINER="claude-code-dev"

# Check if container is running
if ! docker ps | grep -q ${DEV_CONTAINER}; then
    echo "Starting development container..."
    docker start ${DEV_CONTAINER}
    sleep 2
fi

echo "ðŸš€ Starting Claude session..."
echo "ðŸ’¡ Your project is at: /workspace"
echo ""

# Use the direct node method to bypass shebang issues
docker exec -it ${DEV_CONTAINER} node --no-warnings --enable-source-maps /usr/local/lib/node_modules/@anthropic-ai/claude-code/cli.js "$@"
